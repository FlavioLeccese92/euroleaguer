---
output: github_document
always_allow_html: true
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# euroleaguer <img src="man/figures/logo.png" align="right" width="100px"/>

<!-- badges: start -->

[![CRAN status](https://www.r-pkg.org/badges/version/euroleaguer)](https://CRAN.R-project.org/package=euroleaguer) [![R-CMD-check](https://github.com/FlavioLeccese92/euroleaguer/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/FlavioLeccese92/euroleaguer/actions/workflows/R-CMD-check.yaml) [![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental) ![Status](https://progress-bar.dev/75/?title=progress)

<!-- badges: end -->

**euroleaguer** provides an easy way to retrieve data from [EuroLeague](https://www.euroleaguebasketball.net/euroleague/) and [EuroCup](https://www.euroleaguebasketball.net/eurocup/) API with R.

::: {style="display: flex; justify-content: center; align-items: center; text-align: center;"}
![](man/figures/euroleague-logo.png){style="height:50px; padding:10px"} 
![](man/figures/eurocup-logo.png){style="height:50px; padding:10px"}
:::

This is an un-official API wrapper and we recommend to follow usual rules of conduct when dealing with open API calls.

## Installation

To get the current development version from [GitHub](https://github.com/):

```{r install-github, eval=FALSE, include=TRUE}
# install.packages("devtools")
devtools::install_github("FlavioLeccese92/euroleaguer")
```

## Why an R package?

Despite Euroleague official APIs are very well designed and immediate, a more 
intense analytical use demands a few adjustments in terms of get-requests and output.

With `euroleaguer` it is possible to input multiple arguments at once (handling 
for loops internally), values are returned as tibbles and columns are consistent 
throughout all the functions, avoiding ambiguity of stats naming such as `2FG%` (2 field-goal %) for `2P%` (2 points %). In short, saving time on collection and cleaning and leaving more for pure analysis.

## What can be done

--- under construction ---

```{r include=FALSE}
library(dplyr)
library(euroleaguer)
library(htmltools)
library(glue)
```

Get team logos

```{r}
getCompetitionTeams("E2023") %>% 
  mutate(ImageTag = glue("<img src='{ImagesCrest}' style = 'height:30px!important;'>")) %>% 
  pull(ImageTag) %>% 
  paste0(., collapse = " ") %>% 
  paste0("<div style='display:flex; text-align:center; justify-content:center;  height:30px'>", ., "</div>") %>%
  HTML(.)
```

Get player images

```{r}
getPlayerStats("E2023") %>% 
  mutate(ImageUrl = glue("<img src='{ImageUrl}' style = 'height:30px!important;'>")) %>% 
  slice_max(PIR, n = 20) %>% 
  pull(ImageUrl) %>% 
  paste0(., collapse = " ") %>% 
  paste0("<div style='display:flex; text-align:center; justify-content:center;  height:30px'>", ., "</div>") %>%
  HTML(.)
```


--- under construction ---

